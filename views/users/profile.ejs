<% layout('layout/boilerplate')%>


    <div class="container bootstrap snippets bootdey">
        <h1 class="text-primary text-center  "><span class="glyphicon glyphicon-user"></span>View And Edit Your Profile
        </h1>
        <hr>
        <div class="row">
            <!-- left column -->

            <div class="col-md-3 border-end">
                <form action="/users/<%= currentUser.id %> " method="POST" enctype="multipart/form-data">
                    <div class="text-center">
                        <% const
                            defaultImg="https://res.cloudinary.com/belalhaiss10/image/upload/w_1000,c_fill,ar_1:1,g_auto,r_max,bo_5px_solid_red,b_rgb:262c35/v1622061143/profileImg/blank_xi6zex.jpg"
                            %>
                            <img src="<%=  currentUser.profileImage && currentUser.profileImage.fit ? currentUser.profileImage.fit :defaultImg   %> "
                                class="d-block w-75 mx-auto " style="border-radius: 50%;" alt="avatar">
                            <h6 class="mt-3">Upload a different photo...</h6>
                            <input type="file" class="form-control" name="profileImage">
                            <button class="mt-5 btn btn-success">Submit</button>
                    </div>
                </form>

            </div>

            <!-- edit form column -->
            <div class="col-md-6 mx-auto  personal-info">

                <h3>Personal info</h3>
                <a href="/users/<%= currentUser.id %>/changePW" class="btn btn-danger d-block">Change Password</a>

                <form role="form" action="/users/<%= currentUser.id %>" novalidate class="needs-validation"
                    method="POST">
                    <div class="form-group">
                        <label class="control-label">First name:</label>
                        <div>
                            <input class=" form-control" type="text" name="user[firstName]"
                                value="<%= currentUser.firstName %> ">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label">Last name:</label>
                        <div>
                            <input class=" form-control" type="text" name="user[lastName]"
                                value="<%= currentUser.lastName %> ">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label">Username:</label>
                        <div>
                            <input class=" form-control" type="text" name="user[username]" id="username"
                                value="<%= currentUser.username %>">
                            <div class="invalid-feedback">username can`t have space</div>
                        </div>
                    </div>
                    <div class="form-group">

                    </div>
                    <div class="form-group">
                        <label class="control-label">Email:</label>
                        <div>
                            <input id="email" class=" form-control" type="text" name="user[email]"
                                value="<%= currentUser.email %>">
                            <div id="email-validation" class="invalid-feedback">Please Check Mail again.</div>

                        </div>
                    </div>
                    <button class="btn-success mt-4 btn w-100">Submit</button>
                </form>
            </div>
            <h2>
            </h2>
        </div>
    </div>
    </div>
    <hr>



    <!-- <form action="" class="passwordForm">
            <div class="form-group">
                <label for="password"> Enter your password </label>
                <input type="password" class="form-control" name="password" aria-describedby='pw-validation'
                    id="password" placeholder="Enter The password Text" required />
                <div id="pw-validation" class="invalid-feedback">Please make sure your password contains at least (a
                    Capital
                    letter, a number and a
                    special charcter).</div>


        </form> -->
    </div>
    </div>

    <script src="/js/validateRegister.js" async></script>